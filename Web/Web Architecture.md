# Web Architecture

## Web browser

### 웹 브라우저의 역할

- HTML과 CSS 명세에 따라 HTML 파일 해석 및 표시

### 웹 브라우저의 구성 요소

![Web browser architecture](https://user-images.githubusercontent.com/72931773/149347496-591e80de-34f0-43b9-968a-604fa9dbb0d7.png)

# Reference

[🔗 Web Application Architecture 기본 개념](http://clipsoft.co.kr/wp/blog/%EC%9B%B9-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90/)

## 웹 서버

### 웹 서버의 역할

- 웹 서비스를 웹 클라이언트에게 제공
- 웹 브라우저가 HTTP 통신을 통해 데이터를 요청하면, 웹 서버가 데이터를 응답한다

### 웹 서버 소프트웨어

- Apache
- IIS

### 웹 서버에서 하는 처리

웹 서버의 처리는 요청한 URL에 지정된 파일이 정적 웹 컨텐츠를 만드는지, 동적 웹 컨텐츠를 만드는지에 따라 달라진다.

1. 정적 웹 컨텐츠의 처리
   - 정적 웹 컨텐츠 : 누군가가 변경하지 않는 한 똑같은 표시 내용을 반환하는 웹 컨텐츠
   - 웹 서버는 정적 웹 컨텐츠에 대한 요청을 받으면 미리 저장되어 있는 파일을 꺼내서 클라이언트에게 반환한다.
   - 가지고 있는 파일을 반환하는 것일 뿐이므로 속도가 빠르다.
   - 웹 컨텐츠에 실려있는 정보가 바뀔 때마다 대상 파일을 갱신할 필요가 있기 때문에 관리가 번거롭다.
2. 동적 웹 컨텐츠의 처리
   - 동적 웹 컨텐츠 : 클라이언트로부터 받은 정보에 따라 표시 내용이 달라지는 웹 컨텐츠
   - 웹 서버는 동적 웹 컨텐츠에 대한 요청을 받으면, 필요한 처리를 수행한 후 그 처리 결과를 클라이언트에게 반환한다.
   - 동적 컨텐츠를 생성하기 위한 수단
     - CGI
       - 모든 처리를 서버 측에서 수행
       - CGI의 처리 순서
         1. 클라이언트가 요청을 전송
         2. 서버는 요청받은 프로그램을 실행해 컨텐츠를 생성한다.
         3. 생성한 컨텐츠 데이터를 반환한다.
     - Web API
       - 페이지의 생성 처리를 클라이언트 측에서 수행하게 함
       - XML 형식이나 JSON 형식으로 받으면 그에 따른 처리를 수행하고,
         처리 결과를 요청 받은 형식과 똑같은 형식으로 반환한다.
       - 웹 브라우저는 받은 처리 결과를 바탕으로 동적 컨텐츠를 구성하여 표시한다.
       - Web API의 처리 순서
         1. 클라이언트가 요청을 전송
         2. 서버는 받은 데이터를 바탕으로 데이터를 생성
         3. 서버가 생성한 데이터를 클라이언트에 전송 (응답)
         4. 클라이언트는 받은 데이터를 바탕으로 컨텐츠를 생성한다.

# HTTP/HTTPS와 SSL

## HTTP 통신

- 클라이언트/서버형 프로토콜 : 웹 서버가 웹 서비스를 웹 클라이언트에게 제공할 때 사용하는 프로토콜
- 웹 브라우저 — request : 메서드 + URL → 웹 서버
  - 메서드 : 서버에 대해 무엇을 하고 싶은지 나타낸다. (GET, POST, PATCH, DELETE)
  - URL : 목적하는 파일이나 프로그램(리소스)을 나타낸다.
    - 스킴명 : 웹 브라우저는 스킴명을 보고 사용할 프로토콜을 결정한다.
    - 호스트명
    - 도메인명
    - 웹 서버 상의 파일 경로

## HTTPS

HTTP over SSL

: HTTP를 SSL로 암호화한 프로토콜

### SSL 프로토콜

- 데이터를 암호하거나, 통신 상태를 인증함으로써 데이터를 보호한다.

### SSL 서버 소프트웨어

- OpenSSL : 일반적으로 웹 서버인 Apache에 모듈을 인스톨하여 Apache에 연계시켜 사용
- IIS : SSL 기능을 표준으로 갖추고 잇다.

⇒ 지원하는 플랫폼이나 애플리케이션이 다르다.

### SSL 기능

SSL은 데이터를 위협으로부터 보호한다

1. 암호화로 도청을 막는다.
   - 암호화 : 정해진 규칙에 근거해 데이터를 변환하는 기술
   - 제 3자가 데이터를 훔쳐보는 도청을 막을 수 있다.
   - 상세 과정
     1. 웹 브라우저에서 데이터를 암호화해서 보낸다
     2. 전송 과정에서 도청해도 내용을 알 수 없다
     3. SSL 서버에 암호화된 데이터가 도착하면, 데이터를 복원한다.
2. 메시지 다이제스트로 변조를 막는다.
   - 데이터로부터 고정 길이 데이터(해시값)를 꺼내는 계산
   - 데이터를 주고받을 때 송신측과 수신측에서 해시값을 계산해 그 값이 똑같으면 데이터가 바뀌지 않았다고 판단한다.
   - 상세 과정
     1. 웹 브라우저에서 메시지 다이제스트를 계산해 데이터와 함께 보낸다
     2. 데이터 전송 과정에서 데이터가 변조되면
     3. SSL 서버에서 다이제스트를 계산해 값이 다르면 변조되었다는 것을 안다.
3. 디지털 증명서로 위장을 막는다.
   - 제 3자가 데이터를 바꿔쓰는 변조를 방지할 수 있다
   - 디지털 증명서는 해당 컴퓨터가 진짜인질를 증명하는 파일이다.
   - 통신 상대가 진짜인지 확인함으로써, 위장을 방지할 수 있다.
   - 상세 과정
     1. 웹 브라우저가 SSL서버에 디지털 증명서를 요청한다
     2. SSL 서버에서 디지털 증명서를 송부한다
     3. 웹 브라우저에서 디지털 증명서를 보고 서버의 신원을 확인할 수 있다.
